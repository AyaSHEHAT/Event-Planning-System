<div class="register-container">
  <div class="img-container">
    <img src="../../assets/img/registerImg.jpg" alt="register" />
  </div>

  <div class="form-container">
    <h4 class="text-center mb-3">{{ "Create Your Account" | localize }}</h4>
    <button class="googleSign" (click)="signInWithGoogle()">
      <i class="fa fa-envelope"></i> Sign Up with Google
    </button>
    <span class="orHr">Or</span>
    <form autocomplete="off" #registerForm="ngForm" (ngSubmit)="save()">
      <div class="form-group">
        <div class="input-group">
          <input
            type="text"
            class="form-control"
            name="name"
            placeholder="{{ 'Name' | localize }}"
            required
            maxlength="64"
            [(ngModel)]="model.name"
            #nameModel="ngModel"
          />
          <div class="input-group-append">
            <div class="input-group-text">
              <span class="fa fa-arrow-left"></span>
            </div>
          </div>
        </div>
        <abp-validation-summary [control]="nameModel">

        </abp-validation-summary>
      </div>

      <div class="form-group">
        <div class="input-group">
          <input
            type="text"
            class="form-control"
            name="surname"
            placeholder="{{ 'Surname' | localize }}"
            required
            maxlength="64"
            [(ngModel)]="model.surname"
            #surnameModel="ngModel"
            #surnameEl
          />
          <div class="input-group-append">
            <div class="input-group-text">
              <span class="fas fa-arrow-left"></span>
            </div>
          </div>
        </div>
        <abp-validation-summary [control]="surnameModel" ></abp-validation-summary>
      </div>

      <div class="form-group">
        <div class="input-group">
          <input
            type="email"
            class="form-control"
            name="emailAddress"
            placeholder="{{ 'EmailAddress' | localize }}"
            [(ngModel)]="model.emailAddress"
            required
            maxlength="256"
            pattern="^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,})+$"
            #emailAddressModel="ngModel"
          />
          <div class="input-group-append">
            <div class="input-group-text">
              <span class="fas fa-envelope"></span>
            </div>
          </div>
        </div>
        <abp-validation-summary [control]="emailAddressModel"></abp-validation-summary>
        <div *ngIf="emailAddressModel.invalid && (emailAddressModel.dirty || emailAddressModel.touched)" class="text-danger">
          <!-- <div *ngIf="emailAddressModel.errors?.required">Email is required.</div> -->
          <div *ngIf="emailAddressModel.errors?.pattern">Invalid email format.</div>
        </div>
      </div>

      <div class="form-group">
        <div class="input-group">
          <input
            type="email"
            class="form-control"
            name="userName"
            placeholder="{{ 'UserName' | localize }}"
            required
            maxlength="32"
            [(ngModel)]="model.userName"
            #userNameModel="ngModel"
          />
          <div class="input-group-append">
            <div class="input-group-text">
              <span class="fas fa-user"></span>
            </div>
          </div>
        </div>
        <abp-validation-summary [control]="userNameModel"></abp-validation-summary>
      </div>

      <div class="form-group">
        <div class="input-group">
          <input
            type="password"
            class="form-control"
            name="password"
            placeholder="{{ 'Password' | localize }}"
            [(ngModel)]="model.password"
            required
            minlength="8"
            maxlength="32"
            pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$"
            #passwordModel="ngModel"
            
          />
          <div class="input-group-append">
            <div class="input-group-text">
              <span class="fas fa-lock"></span>
              
            </div>
          </div>
        </div>
        <abp-validation-summary [control]="passwordModel"></abp-validation-summary>
        <div *ngIf="passwordModel.invalid && (passwordModel.dirty || passwordModel.touched)" class="text-danger">
          <div *ngIf="passwordModel.errors?.required">Password is required.</div>
          <!-- <div *ngIf="passwordModel.errors?.minlength">Password must be at least 8 characters long.</div> -->
          <div *ngIf="passwordModel.errors?.pattern">Password must contain at least one lowercase letter, one uppercase letter, one number, and one special character.</div>
        </div>
      </div>

      <div class="form-group">
        <div class="input-group">
          <input
            type="number"
            class="form-control"
            name="age"
            placeholder="{{ 'Age' | localize }}"
            required
            min="0"
            [(ngModel)]="model.age"
            #ageModel="ngModel"
          />
          <div class="input-group-append">
            <div class="input-group-text">
              <span class="fas fa-calendar-alt"></span>
            </div>
          </div>
        </div>
        <abp-validation-summary [control]="ageModel"></abp-validation-summary>
      </div>

      <div class="form-group">
        <div class="gender-container ml-4">
          <div class="form-check">
            <input 
              class="form-check-input"
              type="radio"
              name="gender"
              id="maleRadio"
              value="Male"
              [(ngModel)]="model.gender"
            />
            <label class="form-check-label ml-1" for="maleRadio">{{ "Male" | localize }}</label>
          </div>
          <div class="form-check">
            <input
              class="form-check-input"
              type="radio"
              name="gender"
              id="femaleRadio"
              value="Female"
              [(ngModel)]="model.gender"
            />
            <label class="form-check-label ml-1" for="femaleRadio">{{ "Female" | localize }}</label>
          </div>
          <abp-validation-summary [control]="registerForm.controls['gender']"></abp-validation-summary>
        </div>
      </div>

      <div class="form-group">
        <div class="input-group">
          <div class="custom-file">
            <input
              type="file"
              class="custom-file-input"
              id="imageInput"
              name="imageFile"
              (change)="onFileChange($event)"
              aria-describedby="imageAddon"
            />
            <label class="custom-file-label px-2 py-1" for="imageInput">
              {{ imageName || "Choose file" | localize }}
            </label>
          </div>
          <div class="input-group-append">
            <span class="input-group-text" id="imageAddon">
              <i class="fas fa-file-upload"></i>
            </span>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-8">
          <button
            type="button"
            class="btn btn-default mt-4"
            [disabled]="saving"
            [routerLink]="['../login']"
          >
            <i class="fa fa-arrow-left p-2 text-primary"></i> {{ "" | localize }}
          </button>
        </div>
        <div class="col-4">
          <button
            type="submit"
            class="btn btn-primary submit-btn btn-block"
            [disabled]="!registerForm.form.valid || saving"
          >
            {{ "Register" | localize }}
          </button>
        </div>
      </div>
    </form>
  </div>
</div>
